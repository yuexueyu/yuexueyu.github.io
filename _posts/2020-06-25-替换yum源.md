---
layout:     post
title:      æ›¿æ¢yumæº
subtitle:   æ›¿æ¢yumæº
date:       2020-06-25
author:     Jack
header-img: img/post/post-bg-coffee.jpeg
catalog: true
tags:
    - CentOS
    - yumæº
    - epelæº
---

## æ›¿æ¢yumæº

### 1. ç¡®å®šlinuxæ“ä½œç³»ç»Ÿç‰ˆæœ¬
```
lsb_release -a
```
![220734_tARcXg](https://cdn.jsdelivr.net/gh/yuexueyu/uPic@master/uPic/20200624/220734_tARcXg.png)
### 2. å¤‡ä»½
```
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak
```
![221806_OrpCH4](https://cdn.jsdelivr.net/gh/yuexueyu/uPic@master/uPic/20200624/221806_OrpCH4.png)
### 3. æ›¿æ¢yumæº
CentOS 8
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-8.repo
```
CentOS 7
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
```
CentOS 6
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-6.repo
```

![221916_qcryR0](https://cdn.jsdelivr.net/gh/yuexueyu/uPic@master/uPic/20200624/221916_qcryR0.png)
### 4. æ¸…é™¤ç¼“å­˜
```
yum clean all     # æ¸…é™¤ç³»ç»Ÿæ‰€æœ‰çš„yumç¼“å­˜
yum makecache     # ç”Ÿæˆyumç¼“å­˜
# è‡³æ­¤yumæºå·²ç»æ›´æ–°å®Œï¼ŒğŸ‘‡ä¸‹é¢ 6 æ˜¯ä¸ªæ‰©å±•
```
![230700_w3C7K4](https://cdn.jsdelivr.net/gh/yuexueyu/uPic@master/uPic/20200624/230700_w3C7K4.png)

### 5. å…¶ä»–yumæºåœ°å€ï¼š
* [é˜¿é‡Œäº‘çš„yumæº](https://developer.aliyun.com/mirror/centos)
* [ä¸­ç§‘å¤§çš„yumæº](http://mirrors.ustc.edu.cn/help/centos.html)
* [æ¸…åçš„yumæº](https://mirrors.tuna.tsinghua.edu.cn/help/centos/)

### 6. å®‰è£…epel yumæºï¼ˆæ‰©å±•ï¼‰
>  EPEL (Extra Packages for Enterprise Linux)æ˜¯åŸºäºFedoraçš„ä¸€ä¸ªé¡¹ç›®ï¼Œä¸ºâ€œçº¢å¸½ç³»â€çš„æ“ä½œç³»ç»Ÿæä¾›é¢å¤–çš„è½¯ä»¶åŒ…ï¼Œé€‚ç”¨äºRHELã€CentOSå’ŒScientific Linux.

#### 6.1 æŸ¥çœ‹å¯ç”¨çš„epelæº & å®‰è£… epel
```
yum list | grep epel-release
yum install -y epel-release
```
![232347_bvDtGh](https://cdn.jsdelivr.net/gh/yuexueyu/uPic@master/uPic/20200624/232347_bvDtGh.png)
#### 6.2 å¤‡ä»½
```
mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup
mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup
mv /etc/yum.repos.d/epel.repo.rpmnew /etc/yum.repos.d/epel.repo.rpmnew.backup
```
#### 6.3 é…ç½®é˜¿é‡Œé•œåƒæä¾›çš„epelæº

epel(RHEL 8)
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
yum install -y https://mirrors.aliyun.com/epel/epel-release-latest-8.noarch.rpm
sed -i 's|^#baseurl=https://download.fedoraproject.org/pub|baseurl=https://mirrors.aliyun.com|' /etc/yum.repos.d/epel*
sed -i 's|^metalink|#metalink|' /etc/yum.repos.d/epel*
```
epel(RHEL 7)
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
```
epel(RHEL 6)
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.repo
```
epel(RHEL 5)
```
# é˜¿é‡Œäº‘é•œåƒä»“åº“
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-5.repo
```
![234541_oo1O9V](https://cdn.jsdelivr.net/gh/yuexueyu/uPic@master/uPic/20200624/234541_oo1O9V.png)
#### 6.4 æ¸…é™¤ç¼“å­˜
```
yum clean all     # æ¸…é™¤ç³»ç»Ÿæ‰€æœ‰çš„yumç¼“å­˜
yum makecache     # ç”Ÿæˆyumç¼“å­˜
```
#### 6.5 å…¶ä»–epelæºåœ°å€ï¼š
* [é˜¿é‡Œäº‘çš„epelæº](https://developer.aliyun.com/mirror/epel)
* [ä¸­ç§‘å¤§çš„epelæº](http://mirrors.ustc.edu.cn/help/epel.html)
* [æ¸…åçš„epelæº](https://mirrors.tuna.tsinghua.edu.cn/help/epel/)

#### 6.6 å…¶ä»–
```
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak &&
mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.bak &&
mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.bak && 
wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo &&
wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo && 
yum clean all && yum makecache
```

#### å°å°¾å·´

> æœ¬æ–‡é¦–æ¬¡å‘å¸ƒäº [Wu Blog](https://blog.wu06.com/), ä½œè€… [@Wu](https://github.com/yuexueyu) ,è½¬è½½è¯·ä¿ç•™[åŸæ–‡é“¾æ¥](https://blog.wu06.com/2020/06/25/æ›¿æ¢yumæº/)ã€‚